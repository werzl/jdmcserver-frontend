(this.webpackJsonpjdmcserver=this.webpackJsonpjdmcserver||[]).push([[0],{22:function(e,t,n){e.exports=n.p+"static/media/logo.9f69ea93.jpg"},56:function(e,t,n){e.exports=n(77)},61:function(e,t,n){},65:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),u=n.n(c),o=(n(61),n(7)),l=n.n(o),s=n(9),i=n(25),m=n(17),p=(n(63),n(29)),f=n(15),d=n(82),v=n(81),E=n(80),h=n(55),g=(n(64),n(22)),b=n.n(g),k=(n(65),n(12)),y=n(13),j=n(20),w=n.n(j),S=function(){function e(){Object(k.a)(this,e)}return Object(y.a)(e,null,[{key:"get",value:function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.ajax({type:"GET",url:"https://03hnoouy54.execute-api.eu-west-2.amazonaws.com/live/get-ec2-status",data:"",beforeSend:function(e){e.setRequestHeader("x-api-key",t)}}).then((function(e){return e}),(function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),x=n(84),O=n(83),P=n(35),C=n(23),N=n(24),L=(n(74),function(e){var t=e.logout;return r.a.createElement(x.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(x.a.Brand,null,r.a.createElement(P.LinkContainer,{to:"/jdmcserver-frontend/"},r.a.createElement("img",{src:b.a,className:"nav-logo",alt:"logo"}))),r.a.createElement(x.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(x.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(O.a,{className:"mr-auto"},r.a.createElement(P.LinkContainer,{to:"/jdmcserver-frontend/Server"},r.a.createElement(O.a.Link,null,"Server")),r.a.createElement(P.LinkContainer,{to:"/jdmcserver-frontend/Settings"},r.a.createElement(O.a.Link,null,"Settings"))),r.a.createElement(O.a,null,r.a.createElement(O.a.Link,{onClick:t},r.a.createElement(C.a,{icon:N.b})," Logout"))))}),R=function(){function e(){Object(k.a)(this,e)}return Object(y.a)(e,null,[{key:"post",value:function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.ajax({type:"POST",url:"https://03hnoouy54.execute-api.eu-west-2.amazonaws.com/live/stop-ec2-instance",data:"",beforeSend:function(e){e.setRequestHeader("x-api-key",t)}}).then((function(e){return e}),(function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),A=function(){function e(){Object(k.a)(this,e)}return Object(y.a)(e,null,[{key:"post",value:function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.ajax({type:"POST",url:"https://03hnoouy54.execute-api.eu-west-2.amazonaws.com/live/start-ec2-instance",data:"",beforeSend:function(e){e.setRequestHeader("x-api-key",t)}}).then((function(e){return e}),(function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),I=function(){function e(){Object(k.a)(this,e)}return Object(y.a)(e,null,[{key:"displayErrorMessage",value:function(e){m.b.error(e)}},{key:"displaySuccessMessage",value:function(e){m.b.success(e)}},{key:"displayWarning",value:function(e){m.b.warn(e)}},{key:"displayInfo",value:function(e){m.b.info(e)}}]),e}(),M=(n(76),function(e){var t=e.serverStatus,n=e.getServerStatus,a=e.startServer,c=e.stopServer;return r.a.createElement(E.a,null,r.a.createElement(h.a,null,r.a.createElement("div",{className:"inner-content"},r.a.createElement("h1",null,"Jdmcserver status: ","Pending"===t&&r.a.createElement(C.a,{icon:N.c,spin:!0}),"Pending"!==t&&r.a.createElement(r.a.Fragment,null,t,r.a.createElement(C.a,{className:"refresh-icon",icon:N.a,onClick:n}))),"Pending"!==t&&r.a.createElement(E.a,{className:"mt-5"},r.a.createElement(h.a,{md:"3"},r.a.createElement("p",null,"Launch/Stop Server")),r.a.createElement(h.a,null,r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",checked:"Running"===t,onClick:function(){"Stopped"===t&&a(),"Running"===t&&c()},readOnly:!0}),r.a.createElement("span",{className:"slider round"})))))))}),T=function(e){var t=e.apiKey,n=Object(a.useState)("Pending"),c=Object(i.a)(n,2),u=c[0],o=c[1],m=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o("Pending"),e.next=3,A.post(t).then((function(){setTimeout((function(){return f()}),15e3)})).catch((function(e){I.displayErrorMessage("Error when starting the server."),console.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o("Pending"),e.next=3,R.post(t).then((function(){setTimeout((function(){return f()}),15e3)})).catch((function(e){I.displayErrorMessage("Error when stopping the server."),console.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=Object(a.useCallback)(Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o("Pending"),e.next=3,S.get(t).then((function(e){"Running"===e.status&&o("Running"),"Stopped"===e.status&&o("Stopped"),"Pending"===e.status&&(o("Pending"),f())})).catch((function(){o("Error"),I.displayErrorMessage("Couldn't check server status.")}));case 3:case"end":return e.stop()}}),e)}))),[t,o]);return Object(a.useEffect)((function(){f()}),[o]),r.a.createElement(M,{serverStatus:u,getServerStatus:f,startServer:m,stopServer:p})},H=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],u=Object(a.useState)(!1),o=Object(i.a)(u,2),g=o[0],k=o[1],y=Object(a.useCallback)(Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get(n).then((function(){k(!0)})).catch((function(){m.b.error("API Key Invalid.",{autoClose:2500,hideProgressBar:!0})}));case 2:case"end":return e.stop()}}),e)}))),[n,k]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null),!g&&r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:b.a,className:"",alt:"logo"}),r.a.createElement("p",null,"Jdmcserver"),r.a.createElement(d.a,{className:"w-25 mt-3 text-center"},r.a.createElement(d.a.Group,null,r.a.createElement(d.a.Label,null,"Enter an API Key"),r.a.createElement(d.a.Control,{type:"password",placeholder:"API-Key",onChange:function(e){return c(e.target.value)}})),r.a.createElement(v.a,{variant:"outline-primary",type:"submit",onClick:function(e){return function(e){e.preventDefault(),y()}(e)}},"Submit")))),g&&r.a.createElement(p.HashRouter,null,r.a.createElement(E.a,null,r.a.createElement(h.a,null,r.a.createElement(L,{logout:function(){c(""),k(!1)}}))),r.a.createElement(E.a,null,r.a.createElement(h.a,null,r.a.createElement(f.g,null,r.a.createElement(f.d,{exact:!0,path:"/jdmcserver-frontend/"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:b.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"Jdmcserver"),r.a.createElement("a",{className:"App-link",href:"https://github.com/werzl/jdmcserver",target:"_blank",rel:"noopener noreferrer"},"GitHub"))),r.a.createElement(f.d,{path:"/jdmcserver-frontend/Server"},r.a.createElement(T,{apiKey:n})),r.a.createElement(f.d,{path:"/jdmcserver-frontend/Settings"},r.a.createElement(E.a,null,r.a.createElement(h.a,null,r.a.createElement("div",{className:"inner-content"},r.a.createElement("h1",null,"Settings"))))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.c0a466f0.chunk.js.map