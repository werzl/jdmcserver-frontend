(this.webpackJsonpjdmcserver=this.webpackJsonpjdmcserver||[]).push([[0],{20:function(e,t,n){e.exports=n.p+"static/media/logo.9f69ea93.jpg"},56:function(e,t,n){e.exports=n(77)},61:function(e,t,n){},65:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),l=n.n(c),o=(n(61),n(9)),u=n.n(o),s=n(15),i=n(18),m=n(14),d=(n(63),n(24)),p=n(12),E=n(82),f=n(81),v=n(80),g=n(55),h=(n(64),n(20)),b=n.n(h),k=(n(65),n(25)),j=n(26),y=n(47),w=n.n(y),S=function(){function e(){Object(k.a)(this,e)}return Object(j.a)(e,null,[{key:"get",value:function(){var e=Object(s.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.ajax({type:"GET",url:"https://03hnoouy54.execute-api.eu-west-2.amazonaws.com/live/get-ec2-status",data:"",beforeSend:function(e){e.setRequestHeader("x-api-key",t)}}).then((function(e){return e}),(function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),O=n(84),x=n(83),N=n(34),C=n(27),I=n(30),P=(n(74),function(e){var t=e.logout;return r.a.createElement(O.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(O.a.Brand,null,r.a.createElement(N.LinkContainer,{to:"/jdmcserver-frontend/"},r.a.createElement("img",{src:b.a,className:"nav-logo",alt:"logo"}))),r.a.createElement(O.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(O.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(x.a,{className:"mr-auto"},r.a.createElement(N.LinkContainer,{to:"/jdmcserver-frontend/Server"},r.a.createElement(x.a.Link,null,"Server")),r.a.createElement(N.LinkContainer,{to:"/jdmcserver-frontend/Settings"},r.a.createElement(x.a.Link,null,"Settings"))),r.a.createElement(x.a,null,r.a.createElement(x.a.Link,{onClick:t},r.a.createElement(C.a,{icon:I.a})," Logout"))))}),L=function(){function e(){Object(k.a)(this,e)}return Object(j.a)(e,null,[{key:"displayErrorMessage",value:function(e){m.b.error(e)}},{key:"displaySuccessMessage",value:function(e){m.b.success(e)}},{key:"displayWarning",value:function(e){m.b.warn(e)}},{key:"displayInfo",value:function(e){m.b.info(e)}}]),e}(),A=(n(76),function(e){var t=e.serverStatus;return r.a.createElement(v.a,null,r.a.createElement(g.a,null,r.a.createElement("div",{className:"inner-content"},r.a.createElement("h1",null,"Jdmcserver status: ","Pending"===t&&r.a.createElement(C.a,{icon:I.b,spin:!0}),"Pending"!==t&&r.a.createElement(r.a.Fragment,null,t)),"Pending"!==t&&r.a.createElement(v.a,{className:"mt-3"},r.a.createElement(g.a,{md:"3"},r.a.createElement("p",null,"Enable/Disable Server")),r.a.createElement(g.a,null,r.a.createElement("label",{className:"switch"},r.a.createElement("input",{type:"checkbox",checked:"Running"===t,onClick:function(e){return t=e,void console.info("toggleServer invoked.",t.target.checked);var t}}),r.a.createElement("span",{className:"slider round"},r.a.createElement("p",{className:"mt-5"},"I don't do anything yet"))))))))}),B=function(e){var t=e.apiKey,n=Object(a.useState)("Pending"),c=Object(i.a)(n,2),l=c[0],o=c[1],m=Object(a.useState)(1),d=Object(i.a)(m,2),p=d[0],E=d[1],f=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=function(){var e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get(t).then((function(e){e.running&&o("Running"),e.running||o("Stopped"),null!==e.running&&void 0!==e.running||o("Pending")})).catch((function(){E(p+1),o("Error"),L.displayErrorMessage("Couldn't check server status.")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return p>4?clearInterval(f.current):f.current=setInterval(Object(s.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),1e4),e(),function(){clearInterval(f.current)}}),[o,t,E,p]),r.a.createElement(A,{serverStatus:l})},J=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)(!1),o=Object(i.a)(l,2),h=o[0],k=o[1],j=Object(a.useCallback)(Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.get(n).then((function(){k(!0)})).catch((function(){m.b.error("API Key Invalid.",{autoClose:2500,hideProgressBar:!0})}));case 2:case"end":return e.stop()}}),e)}))),[n,k]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,null),!h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:b.a,className:"",alt:"logo"}),r.a.createElement("p",null,"Jdmcserver"),r.a.createElement(E.a,{className:"w-25 mt-3 text-center"},r.a.createElement(E.a.Group,null,r.a.createElement(E.a.Label,null,"Enter an API Key"),r.a.createElement(E.a.Control,{type:"password",placeholder:"API-Key",onChange:function(e){return c(e.target.value)}})),r.a.createElement(f.a,{variant:"outline-primary",type:"submit",onClick:function(e){return function(e){e.preventDefault(),j()}(e)}},"Submit")))),h&&r.a.createElement(d.BrowserRouter,null,r.a.createElement(v.a,null,r.a.createElement(g.a,null,r.a.createElement(P,{logout:function(){c(""),k(!1)}}))),r.a.createElement(v.a,null,r.a.createElement(g.a,null,r.a.createElement(p.g,null,r.a.createElement(p.d,{exact:!0,path:"/jdmcserver-frontend/"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:b.a,className:"App-logo",alt:"logo"}),r.a.createElement("p",null,"Jdmcserver"),r.a.createElement("a",{className:"App-link",href:"https://github.com/werzl/jdmcserver",target:"_blank",rel:"noopener noreferrer"},"GitHub"))),r.a.createElement(p.d,{path:"/jdmcserver-frontend/Server"},r.a.createElement(B,{apiKey:n})),r.a.createElement(p.d,{path:"/jdmcserver-frontend/Settings"},r.a.createElement(v.a,null,r.a.createElement(g.a,null,r.a.createElement("div",{className:"inner-content"},r.a.createElement("h1",null,"Settings"))))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[56,1,2]]]);
//# sourceMappingURL=main.92424455.chunk.js.map